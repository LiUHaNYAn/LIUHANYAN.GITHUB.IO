<!doctype html>
<!DOCTYPE html><html><head><meta charset="utf-8">
        
        <title>KinhIP</title>
        <meta name="viewport" content="width=device-width">
        <meta name="referrer" content="no-referrer">
        <link rel="icon" href="img/rBAAdmFqSiaAUHUFAAAwvTf0OC8200.png">
        <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/mdui/1.0.2/css/mdui.min.css">
        <link rel="stylesheet" href="css/Body.css">
        <link rel="stylesheet" href="css/MDUI-Border-Radius.css">
        <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>

    <body class="mdui-theme-primary-indigo mdui-theme-accent-indigo">

    <div class="mdui-container mdui-p-t-3">
        <div class="mdui-col">
            <div class="mdui-card">
                <div class="mdui-card-primary">
                    <div class="mdui-card-primary-title">查询IP</div>
                    <hr>
                    
                    <form method="post" name="FormPostData">
                        <input class="mdui-textfield-input" type="text" name="IP" value="" placeholder="请输入要查询的IP地址">
                        <br>
                        <button type="submit" class="mdui-btn mdui-color-indigo mdui-btn-block">查询</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    
    <div class="mdui-container mdui-p-t-3">
        <div class="mdui-col">
            <div class="mdui-card">
                <div class="mdui-card-primary">
                    <div class="mdui-card-primary-title">TCP/ICM Ping</div>
                    <hr>
                    
                    <form method="post" name="FormPostData">
                        <input class="mdui-textfield-input" type="text" name="PingIP" value="" placeholder="请输入要查询的PingIP地址">
                        <input class="mdui-textfield-input" type="text" name="PingPort" value="" placeholder="请输入要查询的PingIP地址Port(默认80)">
                        <br>
                        <button type="submit" class="mdui-btn mdui-color-indigo mdui-btn-block">Ping</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    
    <div class="mdui-container mdui-p-t-3">
        <div class="mdui-col">
            <div class="mdui-card">
                <div class="mdui-card-primary">
                    <div class="mdui-card-primary-title">国内IP数据</div>
                    <hr>
                    
                    <script>
                        $.ajax({
                            type: 'get',
                            dataType:'jsonp',
                            url:'https://whois.pconline.com.cn/ipJson.jsp',
                            success:function(result) {
                                China_IP = result.ip
                                var China_RegionName = result.pro
                                var China_City = result.city
                                document.getElementById('China_IP').innerHTML = '<div class="mdui-card-primary-title">IP地址:' + China_IP + '</div>'

                                $.ajax({
                                    type: 'get',
                                    dataType:'json',
                                    url:'https://ip.seeip.org/geoip/' + China_IP,
                                    success:function(result) {
                                        var China_Country = result.country
                                        var China_l_AT = result.latitude
                                        var China_l_ON = result.longitude
                                        var China_Timezone = result.timezone
                                        
                                        document.getElementById('China_Country').innerHTML = '<div class="mdui-card-primary-title">国家:' + China_Country + '</div>'
                                        document.getElementById('China_RegionName').innerHTML = '<div class="mdui-card-primary-title">地区:' + China_RegionName + '</div>'
                                        document.getElementById('China_City').innerHTML = '<div class="mdui-card-primary-title">城市:' + China_City + '</div>'
                                        document.getElementById('China_Timezone').innerHTML = '<div class="mdui-card-primary-title">时区:' + China_Timezone + '</div>'
                                        document.getElementById('China_l').innerHTML = '<div class="mdui-card-primary-title">经纬度:' + China_l_AT + '|' + China_l_ON + '</div>'
                                    }
                                })
                            }
                        })
                    </script>
                    
                    <div id="China_IP" class="mdui-card-primary-title">IP地址:加载中...</div>
                    <div id="China_Country" class="mdui-card-primary-title">国家:加载中...</div>
                    <div id="China_RegionName" class="mdui-card-primary-title">地区:加载中...</div>
                    <div id="China_City" class="mdui-card-primary-title">城市:加载中...</div>
                    <div id="China_l" class="mdui-card-primary-title">经纬度:加载中...</div>
                    <div id="China_Timezone" class="mdui-card-primary-title">时区:加载中...</div>
                </div>
            </div>
        </div>
    </div>

    <div class="mdui-container mdui-p-t-3" id="ForeignData">
        <div class="mdui-col">
            <div class="mdui-card">
                <div class="mdui-card-primary">
                    <div class="mdui-card-primary-title">国外IP数据</div>
                    <hr>

                    <script>
                        $.ajax({
                            type: 'get',
                            dataType:'json',
                            url:'https://api.ipify.org/?format=json',
                            success:function(result) {
                                var Foreign_IP = result.ip
                                console.log(Foreign_IP + '|' + China_IP)
                                if (Foreign_IP == China_IP) {
                                    document.getElementById('ForeignData').innerHTML = ''
                                } else {
                                    document.getElementById('Foreign_IP').innerHTML = '<div class="mdui-card-primary-title">IP地址:' + Foreign_IP + '</div>'

                                    $.ajax({
                                        type: 'get',
                                        dataType:'json',
                                        url:'https://ip.seeip.org/geoip',
                                        success:function(result) {
                                            var Foreign_Country = result.country
                                            var Foreign_RegionName = result.region
                                            var Foreign_City = result.city
                                            var Foreign_l_AT = result.latitude
                                            var Foreign_l_ON = result.longitude
                                            var Foreign_Timezone = result.timezone
                                            
                                            document.getElementById('Foreign_Country').innerHTML = '<div class="mdui-card-primary-title">国家:' + Foreign_Country + '</div>'
                                            document.getElementById('Foreign_RegionName').innerHTML = '<div class="mdui-card-primary-title">地区:' + Foreign_RegionName + '</div>'
                                            document.getElementById('Foreign_City').innerHTML = '<div class="mdui-card-primary-title">城市:' + Foreign_City + '</div>'
                                            document.getElementById('Foreign_Timezone').innerHTML = '<div class="mdui-card-primary-title">时区:' + Foreign_Timezone + '</div>'
                                            document.getElementById('Foreign_l').innerHTML = '<div class="mdui-card-primary-title">经纬度:' + Foreign_l_AT + '|' + Foreign_l_ON + '</div>'
                                        }
                                    })
                                }
                            }
                        })
                    </script>
                    
                    <div id="Foreign_IP" class="mdui-card-primary-title">IP地址:加载中...</div>
                    <div id="Foreign_Country" class="mdui-card-primary-title">国家:加载中...</div>
                    <div id="Foreign_RegionName" class="mdui-card-primary-title">地区:加载中...</div>
                    <div id="Foreign_City" class="mdui-card-primary-title">城市:加载中...</div>
                    <div id="Foreign_l" class="mdui-card-primary-title">经纬度:加载中...</div>
                    <div id="Foreign_Timezone" class="mdui-card-primary-title">时区:加载中...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/mdui/1.0.2/js/mdui.min.js"></script>
    
</body></html>